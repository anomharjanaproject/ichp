<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Integrated Climateâ€“Health Platform (ICHP)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; }
    .menu-btn {
      display:flex; align-items:center; gap:10px;
      width:100%; text-align:left;
      padding:10px 12px; border-radius:0.5rem;
      font-size:0.9rem; font-weight:500;
      color:#374151; transition:all 0.3s ease;
    }
    .menu-btn:hover { background-color:#e6f0fa; color:#0b5091; }
    .menu-btn.active { background-color:#0b5091; color:white; }
    .menu-icon { width:18px; height:18px; flex-shrink:0; }
    .menu-btn.active .menu-icon { color:white; }
    .menu-btn:not(.active) .menu-icon { color:#0b5091; }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }
  </style>
</head>
<body class="flex flex-col min-h-screen">

<!-- Header -->
<header class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">
      <a href="#" class="flex items-center space-x-2">
        <svg class="h-8 w-8 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 9h1a2 2 0 012 2v1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span class="text-xl font-extrabold text-blue-700 tracking-tight">ICHP</span>
      </a>
      <nav class="hidden md:flex space-x-10">
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">About</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Components</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Data & Tools</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Contact</a>
      </nav>
    </div>
  </div>
</header>

<!-- Layout -->
<main class="flex flex-1">

  <!-- Sidebar -->
  <aside class="w-80 bg-white border-r border-gray-200 shadow-md flex flex-col h-screen sticky top-0">
    <!-- Search box -->
    <div class="p-4 border-b">
      <input id="searchInput" type="text" placeholder="Search indicator..." 
        class="w-full rounded-lg border-gray-300 focus:ring-blue-600 focus:border-blue-600 text-sm p-2">
    </div>
    <!-- Scrollable menu -->
    <div id="menuList" class="flex-1 overflow-y-auto p-4 space-y-2">

      <!-- Climate Drivers -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-2">Climate Drivers</p>
      <button onclick="loadDashboard('Temperature')" class="menu-btn"><svg class="menu-icon" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"/></svg>Daily max/min temperature, heat index</button>
      <button onclick="loadDashboard('Rainfall')" class="menu-btn"><svg class="menu-icon" fill="none" stroke="currentColor"><path d="M3 16l4-4 4 4 4-4 4 4"/></svg>Rainfall anomalies, flooding</button>
      <button onclick="loadDashboard('AirQuality')" class="menu-btn"><svg class="menu-icon" fill="none" stroke="currentColor"><path d="M3 12h18M9 6h6M9 18h6"/></svg>Air quality (PM2.5, PM10, ozone)</button>
      <button onclick="loadDashboard('ExtremeWeather')" class="menu-btn"><svg class="menu-icon" fill="none" stroke="currentColor"><path d="M4 4h16v16H4z"/></svg>Extreme weather events</button>
      <button onclick="loadDashboard('Flooding')" class="menu-btn"><svg class="menu-icon" fill="none" stroke="currentColor"><path d="M3 12h18"/></svg>Sea level rise / river flooding</button>

      <!-- Environmental & Exposure -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Environmental & Exposure</p>
      <button onclick="loadDashboard('WaterQuality')" class="menu-btn">Water quality</button>
      <button onclick="loadDashboard('SafeWater')" class="menu-btn">Access to safe drinking water</button>
      <button onclick="loadDashboard('Sanitation')" class="menu-btn">Sanitation coverage</button>
      <button onclick="loadDashboard('VectorDensity')" class="menu-btn">Vector density (mosquito)</button>
      <button onclick="loadDashboard('FoodSecurity')" class="menu-btn">Food security</button>

      <!-- Child Health Outcomes -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Child Health Outcomes</p>
      <button onclick="loadDashboard('U5MR')" class="menu-btn">Under-5 mortality rate</button>
      <button onclick="loadDashboard('Diarrhea')" class="menu-btn">Diarrheal disease incidence</button>
      <button onclick="loadDashboard('Malaria')" class="menu-btn">Malaria incidence</button>
      <button onclick="loadDashboard('Dengue')" class="menu-btn">Dengue incidence</button>
      <button onclick="loadDashboard('HeatIllness')" class="menu-btn">Heat-related illness</button>
      <button onclick="loadDashboard('Malnutrition')" class="menu-btn">Malnutrition (stunting, wasting, underweight)</button>
      <button onclick="loadDashboard('AMR')" class="menu-btn">AMR cases post-disaster</button>

      <!-- Demographics & Vulnerability -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Demographics & Vulnerability</p>
      <button onclick="loadDashboard('ChildDensity')" class="menu-btn">Child population density</button>
      <button onclick="loadDashboard('SchoolAttendance')" class="menu-btn">School enrollment & attendance</button>
      <button onclick="loadDashboard('DisplacedChildren')" class="menu-btn">Displaced children (IDPs/refugees)</button>
      <button onclick="loadDashboard('ChildPoverty')" class="menu-btn">Child poverty rate</button>

      <!-- Health System & Response Capacity -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Health System & Response Capacity</p>
      <button onclick="loadDashboard('FacilityDensity')" class="menu-btn">Health facility density</button>
      <button onclick="loadDashboard('CHW')" class="menu-btn">Frontline worker availability</button>
      <button onclick="loadDashboard('VaccineCoverage')" class="menu-btn">Vaccine coverage</button>
      <button onclick="loadDashboard('MedicalSupply')" class="menu-btn">Medical supply stock</button>
      <button onclick="loadDashboard('EmergencyCapacity')" class="menu-btn">Emergency response capacity</button>
      <button onclick="loadDashboard('HealthCommunication')" class="menu-btn">Health communication reach</button>

      <!-- Equity & Inclusion -->
      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Equity & Inclusion</p>
      <button onclick="loadDashboard('InternetAccess')" class="menu-btn">Internet/mobile phone penetration</button>
      <button onclick="loadDashboard('Languages')" class="menu-btn">Languages spoken</button>
      <button onclick="loadDashboard('Gender')" class="menu-btn">Gender-disaggregated outcomes</button>
      <button onclick="loadDashboard('Marginalized')" class="menu-btn">Marginalized/minority population</button>
    </div>
  </aside>

  <!-- Main Panel -->
  <section class="flex-1 bg-gray-100 p-6">
    <div class="bg-white shadow-xl rounded-2xl border border-gray-200 h-full flex flex-col">
      <div class="p-4 border-b bg-gray-50">
        <h3 id="dashboardTitle" class="text-xl font-bold text-gray-800">Dashboard: Daily max/min temperature, heat index</h3>
      </div>
      <div class="flex-1 relative">
        <iframe id="dashboardFrame" src="https://lookerstudio.google.com/reporting/temperature_dashboard_link" 
          class="w-full h-full fade-in rounded-b-2xl" allowfullscreen></iframe>
      </div>
    </div>
  </section>
</main>

<!-- Footer -->
<footer class="bg-gray-800">
  <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
    <p class="text-base text-gray-400">&copy; 2025 ICHP. Developed by CPHI, Udayana University.</p>
  </div>
</footer>

<!-- Script -->
<script>
const menuButtons = document.querySelectorAll('.menu-btn');
const frame = document.getElementById('dashboardFrame');
const title = document.getElementById('dashboardTitle');

// Mapping indikator -> link Looker Studio
const dashboardLinks = {
  Temperature: "https://lookerstudio.google.com/reporting/temperature_dashboard_link",
  Rainfall: "https://lookerstudio.google.com/reporting/rainfall_dashboard_link",
  AirQuality: "https://lookerstudio.google.com/reporting/airquality_dashboard_link",
  ExtremeWeather: "https://lookerstudio.google.com/reporting/extremeweather_dashboard_link",
  Flooding: "https://lookerstudio.google.com/reporting/flooding_dashboard_link",
  WaterQuality: "https://lookerstudio.google.com/reporting/waterquality_dashboard_link",
  SafeWater: "https://lookerstudio.google.com/reporting/safewater_dashboard_link",
  Sanitation: "https://lookerstudio.google.com/reporting/sanitation_dashboard_link",
  VectorDensity: "https://lookerstudio.google.com/reporting/vectordensity_dashboard_link",
  FoodSecurity: "https://lookerstudio.google.com/reporting/foodsecurity_dashboard_link",
  U5MR: "https://lookerstudio.google.com/reporting/u5mr_dashboard_link",
  Diarrhea: "https://lookerstudio.google.com/reporting/diarrhea_dashboard_link",
  Malaria: "https://lookerstudio.google.com/reporting/malaria_dashboard_link",
  Dengue: "https://lookerstudio.google.com/reporting/dengue_dashboard_link",
  HeatIllness: "https://lookerstudio.google.com/reporting/heatillness_dashboard_link",
  Malnutrition: "https://lookerstudio.google.com/reporting/malnutrition_dashboard_link",
  AMR: "https://lookerstudio.google.com/reporting/amr_dashboard_link",
  ChildDensity: "https://lookerstudio.google.com/reporting/childdensity_dashboard_link",
  SchoolAttendance: "https://lookerstudio.google.com/reporting/schoolattendance_dashboard_link",
  DisplacedChildren: "https://lookerstudio.google.com/reporting/displacedchildren_dashboard_link",
  ChildPoverty: "https://lookerstudio.google.com/reporting/childpoverty_dashboard_link",
  FacilityDensity: "https://lookerstudio.google.com/reporting/facilitydensity_dashboard_link",
  CHW: "https://lookerstudio.google.com/reporting/chw_dashboard_link",
  VaccineCoverage: "https://lookerstudio.google.com/reporting/vaccinecoverage_dashboard_link",
  MedicalSupply: "https://lookerstudio.google.com/reporting/medicalsupply_dashboard_link",
  EmergencyCapacity: "https://lookerstudio.google.com/reporting/emergencycapacity_dashboard_link",
  HealthCommunication: "https://lookerstudio.google.com/reporting/healthcommunication_dashboard_link",
  InternetAccess: "https://lookerstudio.google.com/reporting/internetaccess_dashboard_link",
  Languages: "https://lookerstudio.google.com/reporting/languages_dashboard_link",
  Gender: "https://lookerstudio.google.com/reporting/gender_dashboard_link",
  Marginalized: "https://lookerstudio.google.com/reporting/marginalized_dashboard_link"
};

function loadDashboard(indicator) {
  menuButtons.forEach(btn => btn.classList.remove('active'));
  event.currentTarget.classList.add('active');
  title.textContent = "Dashboard: " + event.currentTarget.innerText.trim();

  frame.classList.remove('fade-in'); 
  void frame.offsetWidth; 
  frame.classList.add('fade-in');

  const link = dashboardLinks[indicator] || "https://lookerstudio.google.com/reporting/sample_default_dashboard";
  frame.src = link;
}

// Search filter
document.getElementById('searchInput').addEventListener('keyup', function() {
  const filter = this.value.toLowerCase();
  document.querySelectorAll('#menuList button').forEach(btn => {
    const txt = btn.innerText.toLowerCase();
    btn.style.display = txt.includes(filter) ? '' : 'none';
  });
});
</script>

</body>
</html>
