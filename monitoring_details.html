<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Integrated Climateâ€“Health Platform (ICHP)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; }
    .menu-btn {
      display:flex; align-items:center; gap:10px;
      width:100%; text-align:left;
      padding:10px 12px; border-radius:0.5rem;
      font-size:0.9rem; font-weight:500;
      color:#374151; transition:all 0.3s ease;
    }
    .menu-btn:hover { background-color:#e6f0fa; color:#0b5091; }
    .menu-btn.active { background-color:#0b5091; color:white; }
    .menu-icon { width:18px; height:18px; flex-shrink:0; }
    .menu-btn.active .menu-icon { color:white; }
    .menu-btn:not(.active) .menu-icon { color:#0b5091; }
    .fade-in { animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }
  </style>
</head>
<body class="flex flex-col min-h-screen">

<!-- Header -->
<header class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">
      <a href="#" class="flex items-center space-x-2">
        <svg class="h-8 w-8 text-blue-700" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 9h1a2 2 0 012 2v1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span class="text-xl font-extrabold text-blue-700 tracking-tight">ICHP</span>
      </a>
      <nav class="hidden md:flex space-x-10">
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">About</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Components</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Data & Tools</a>
        <a href="index.html" class="text-base font-medium text-gray-500 hover:text-blue-700">Contact</a>
      </nav>
    </div>
  </div>
</header>

<!-- Layout -->
<main class="flex flex-1">

  <!-- Sidebar -->
  <aside class="w-80 bg-white border-r border-gray-200 shadow-md flex flex-col h-screen sticky top-0">
    <div class="p-4 border-b">
      <input id="searchInput" type="text" placeholder="Search indicator..." 
        class="w-full rounded-lg border-gray-300 focus:ring-blue-600 focus:border-blue-600 text-sm p-2">
    </div>

    <div id="menuList" class="flex-1 overflow-y-auto p-4 space-y-2">

      <p class="text-sm font-semibold text-gray-500 uppercase mt-2">Climate Drivers</p>
      <button onclick="loadDashboard('Temperature')" class="menu-btn">ğŸŒ¡ï¸ Daily max/min temperature, heat index</button>
      <button onclick="loadDashboard('Rainfall')" class="menu-btn">ğŸŒ§ï¸ Rainfall anomalies, flooding</button>
      <button onclick="loadDashboard('AirQuality')" class="menu-btn">ğŸŒ«ï¸ Air quality (PM2.5, PM10, ozone)</button>
      <button onclick="loadDashboard('ExtremeWeather')" class="menu-btn">â›ˆï¸ Extreme weather events</button>
      <button onclick="loadDashboard('Flooding')" class="menu-btn">ğŸŒŠ Sea level rise / river flooding</button>

      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Environmental & Exposure</p>
      <button onclick="loadDashboard('WaterQuality')" class="menu-btn">ğŸ’§ Water quality</button>
      <button onclick="loadDashboard('SafeWater')" class="menu-btn">ğŸš° Access to safe drinking water</button>
      <button onclick="loadDashboard('Sanitation')" class="menu-btn">ğŸš½ Sanitation coverage</button>
      <button onclick="loadDashboard('VectorDensity')" class="menu-btn">ğŸ¦Ÿ Vector density (mosquito)</button>
      <button onclick="loadDashboard('FoodSecurity')" class="menu-btn">ğŸŒ¾ Food security</button>

      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Child Health Outcomes</p>
      <button onclick="loadDashboard('U5MR')" class="menu-btn">ğŸ‘¶ Under-5 mortality rate</button>
      <button onclick="loadDashboard('Diarrhea')" class="menu-btn">ğŸ’© Diarrheal disease incidence</button>
      <button onclick="loadDashboard('Malaria')" class="menu-btn">ğŸ¦  Malaria incidence</button>
      <button onclick="loadDashboard('Dengue')" class="menu-btn">ğŸ¦Ÿ Dengue incidence</button>
      <button onclick="loadDashboard('HeatIllness')" class="menu-btn">ğŸ¥µ Heat-related illness</button>
      <button onclick="loadDashboard('Malnutrition')" class="menu-btn">ğŸ Malnutrition (stunting, wasting, underweight)</button>
      <button onclick="loadDashboard('AMR')" class="menu-btn">ğŸ’Š AMR cases post-disaster</button>

      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Demographics & Vulnerability</p>
      <button onclick="loadDashboard('ChildDensity')" class="menu-btn">ğŸ§’ Child population density</button>
      <button onclick="loadDashboard('SchoolAttendance')" class="menu-btn">ğŸ« School enrollment & attendance</button>
      <button onclick="loadDashboard('DisplacedChildren')" class="menu-btn">ğŸš¸ Displaced children (IDPs/refugees)</button>
      <button onclick="loadDashboard('ChildPoverty')" class="menu-btn">ğŸ’° Child poverty rate</button>

      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Health System & Response Capacity</p>
      <button onclick="loadDashboard('FacilityDensity')" class="menu-btn">ğŸ¥ Health facility density</button>
      <button onclick="loadDashboard('CHW')" class="menu-btn">ğŸ‘©â€âš•ï¸ Frontline worker availability</button>
      <button onclick="loadDashboard('VaccineCoverage')" class="menu-btn">ğŸ’‰ Vaccine coverage</button>
      <button onclick="loadDashboard('MedicalSupply')" class="menu-btn">ğŸ“¦ Medical supply stock</button>
      <button onclick="loadDashboard('EmergencyCapacity')" class="menu-btn">ğŸš‘ Emergency response capacity</button>
      <button onclick="loadDashboard('HealthCommunication')" class="menu-btn">ğŸ“¢ Health communication reach</button>

      <p class="text-sm font-semibold text-gray-500 uppercase mt-4">Equity & Inclusion</p>
      <button onclick="loadDashboard('InternetAccess')" class="menu-btn">ğŸŒ Internet/mobile phone penetration</button>
      <button onclick="loadDashboard('Languages')" class="menu-btn">ğŸ—£ï¸ Languages spoken</button>
      <button onclick="loadDashboard('Gender')" class="menu-btn">â™€ï¸â™‚ï¸ Gender-disaggregated outcomes</button>
      <button onclick="loadDashboard('Marginalized')" class="menu-btn">ğŸ¤ Marginalized/minority population</button>
    </div>
  </aside>

  <!-- Main Panel -->
  <section class="flex-1 bg-gray-100 p-6">
    <div class="bg-white shadow-xl rounded-2xl border border-gray-200 h-full flex flex-col">
      <div class="p-4 border-b bg-gray-50">
        <h3 id="dashboardTitle" class="text-xl font-bold text-gray-800">Interactive Map: Temperature</h3>
      </div>
      <div class="flex-1 relative">
        <iframe id="dashboardFrame"
          src="https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=temp&level=surface&menu=&message=true&marker=true&calendar=now"
          class="w-full h-full fade-in rounded-b-2xl" allowfullscreen></iframe>
      </div>
    </div>
  </section>
</main>

<!-- Footer -->
<footer class="bg-gray-800">
  <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
    <p class="text-base text-gray-400">&copy; 2025 ICHP. Developed by CPHI, Udayana University.</p>
  </div>
</footer>

<!-- Script -->
<script>
const menuButtons = document.querySelectorAll('.menu-btn');
const frame = document.getElementById('dashboardFrame');
const title = document.getElementById('dashboardTitle');

// Mapping dashboard ke embed web (Windy)
const dashboardLinks = {
  Temperature: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=temp",
  Rainfall: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=rain",
  AirQuality: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=aqi",
  ExtremeWeather: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=thunder",
  Flooding: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=snow",
  WaterQuality: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=currents",
  SafeWater: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=waves",
  Sanitation: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=6&overlay=humidity",
  VectorDensity: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  FoodSecurity: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=pressure",
  U5MR: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=temp",
  Diarrhea: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=rain",
  Malaria: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  Dengue: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=pm2p5",
  HeatIllness: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=temp",
  Malnutrition: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=humidity",
  AMR: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  ChildDensity: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=pressure",
  SchoolAttendance: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=rain",
  DisplacedChildren: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  ChildPoverty: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=temp",
  FacilityDensity: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  CHW: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=pressure",
  VaccineCoverage: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=temp",
  MedicalSupply: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=humidity",
  EmergencyCapacity: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  HealthCommunication: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=pm2p5",
  InternetAccess: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind",
  Languages: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=temp",
  Gender: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=rain",
  Marginalized: "https://embed.windy.com/embed2.html?lat=-8.654&lon=115.193&zoom=5&overlay=wind"
};

// Function untuk load peta interaktif
function loadDashboard(indicator) {
  frame.src = dashboardLinks[indicator];
  title.textContent = "Interactive Map: " + indicator;
  menuButtons.forEach(btn => btn.classList.remove('active'));
  event.target.closest('button').classList.add('active');
}

// Search
document.getElementById("searchInput").addEventListener("keyup", function() {
  const filter = this.value.toLowerCase();
  document.querySelectorAll("#menuList button").forEach(btn => {
    const text = btn.textContent.toLowerCase();
    btn.style.display = text.includes(filter) ? "flex" : "none";
  });
});
</script>

</body>
</html>
